<!DOCTYPE html>
<html>
<head>
    <title>Daily Offline Revenue Summary</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            background-color: #2563eb;
            color: white;
            padding: 20px;
            border-radius: 8px 8px 0 0;
            margin: -30px -30px 20px -30px;
            text-align: center;
        }
        .summary-stats {
            display: flex;
            justify-content: space-around;
            background-color: #eff6ff;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .stat-box {
            text-align: center;
        }
        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #1e40af;
        }
        .stat-label {
            font-size: 14px;
            color: #6b7280;
            margin-top: 5px;
        }
        .terminals-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .terminals-table th, .terminals-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        .terminals-table th {
            background-color: #f9fafb;
            font-weight: 600;
            color: #374151;
        }
        .terminals-table tr:hover {
            background-color: #f9fafb;
        }
        .revenue {
            font-weight: 600;
            color: #059669;
        }
        .info-box {
            background-color: #fef3c7;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #f59e0b;
        }
        .info-box h3 {
            margin: 0 0 10px 0;
            color: #92400e;
        }
        .info-box p {
            margin: 0;
            color: #78350f;
        }
        .footer {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
            color: #6b7280;
            font-size: 14px;
        }
        .no-activity {
            text-align: center;
            padding: 40px;
            color: #6b7280;
        }
        .no-activity h2 {
            color: #374151;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Daily Offline Revenue Summary</h1>
            <p>{{ report_date }}</p>
        </div>

        {% if terminal_count > 0 %}
            <div class="summary-stats">
                <div class="stat-box">
                    <div class="stat-value">${{ total_revenue|floatformat:2 }}</div>
                    <div class="stat-label">Total Offline Revenue</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">{{ total_orders }}</div>
                    <div class="stat-label">Offline Orders</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">{{ terminal_count }}</div>
                    <div class="stat-label">Terminal{{ terminal_count|pluralize }}</div>
                </div>
            </div>

            <h2>Terminal Breakdown</h2>
            <table class="terminals-table">
                <thead>
                    <tr>
                        <th>Terminal</th>
                        <th>Location</th>
                        <th>Orders</th>
                        <th>Revenue</th>
                    </tr>
                </thead>
                <tbody>
                    {% for terminal in terminals %}
                    <tr>
                        <td><strong>{{ terminal.nickname }}</strong></td>
                        <td>{{ terminal.location }}</td>
                        <td>{{ terminal.order_count }}</td>
                        <td class="revenue">${{ terminal.revenue|floatformat:2 }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

            <div class="info-box">
                <h3>What is Offline Revenue?</h3>
                <p>
                    Offline revenue represents sales processed by your POS terminals when they were
                    temporarily disconnected from the internet. These orders were synced to your
                    backend once connectivity was restored. All transactions are fully captured
                    and accounted for in your regular sales reports.
                </p>
            </div>
        {% else %}
            <div class="no-activity">
                <h2>No Offline Activity Today</h2>
                <p>All your terminals stayed connected throughout the day. Great job maintaining connectivity!</p>
            </div>
        {% endif %}

        <div class="footer">
            <p><strong>{{ store_info.name }}</strong></p>
            {% if store_info.address %}
                <p>{{ store_info.address }}</p>
            {% endif %}
            {% if store_info.phone_display %}
                <p>Phone: {{ store_info.phone_display }}</p>
            {% endif %}
            <p style="margin-top: 15px; font-size: 12px; color: #9ca3af;">
                This daily summary is generated automatically by your Ajeen POS system.
                Counters reset at midnight each day.
            </p>
        </div>
    </div>
</body>
</html>
