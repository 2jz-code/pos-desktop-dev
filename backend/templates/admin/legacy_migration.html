{% extends "admin/base_site.html" %}
{% load i18n %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 20px;">
    <h1>Customer Migration</h1>
    <p>Click the button below to migrate customer users from the users table to the customers model. This will preserve all customer data including passwords and account information.</p>
    
    <div style="background-color: #fff3cd; border: 1px solid #ffeaa7; border-radius: 4px; padding: 10px; margin: 15px 0;">
        <strong>⚠️ Important:</strong> This will migrate users with <code>is_pos_staff=False</code> to the customers model. Make sure to verify which users will be migrated before running.
    </div>
    
    <form method="post">
        {% csrf_token %}
        <button type="submit" style="background-color: #28a745; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px;">
            Migrate Customers
        </button>
    </form>
    
    {% if output %}
    <div style="margin-top: 20px;">
        <h3>Output:</h3>
        <pre style="background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; padding: 15px; white-space: pre-wrap; max-height: 500px; overflow-y: auto; font-size: 12px;">{{ output }}</pre>
    </div>
    {% endif %}
</div>
{% endblock %}